<html xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp">
  <head>
    <link rel="SHORTCUT ICON" href="./../icons/favicon.ico" />
    <style type="text/css">.OH_CodeSnippetContainerTabLeftActive, .OH_CodeSnippetContainerTabLeft,.OH_CodeSnippetContainerTabLeftDisabled { backgroundImageName: tabLeftBG.gif; }.OH_CodeSnippetContainerTabRightActive, .OH_CodeSnippetContainerTabRight,.OH_CodeSnippetContainerTabRightDisabled { backgroundImageName: tabRightBG.gif; }.OH_footer { backgroundImageName: footer_slice.gif; background-position: top; background-repeat: repeat-x; }</style>
    <link rel="stylesheet" type="text/css" href="./../styles/branding.css" />
    <link rel="stylesheet" type="text/css" href="./../styles/branding-en-US.css" />
    <style type="text/css">
			body
			{
			border-left:5px solid #e6e6e6;
			overflow-x:scroll;
			overflow-y:scroll;
			}
		</style>
    <script src="./../scripts/branding.js" type="text/javascript">
      <!---->
    </script>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>StepwiseLogisticRegressionAnalysis Class</title>
    <meta name="Language" content="en-us" />
    <meta name="System.Keywords" content="StepwiseLogisticRegressionAnalysis class" />
    <meta name="System.Keywords" content="Accord.Statistics.Analysis.StepwiseLogisticRegressionAnalysis class" />
    <meta name="System.Keywords" content="StepwiseLogisticRegressionAnalysis class, about StepwiseLogisticRegressionAnalysis class" />
    <meta name="Microsoft.Help.F1" content="Accord.Statistics.Analysis.StepwiseLogisticRegressionAnalysis" />
    <meta name="Microsoft.Help.Id" content="T:Accord.Statistics.Analysis.StepwiseLogisticRegressionAnalysis" />
    <meta name="Description" content="Backward Stepwise Logistic Regression Analysis." />
    <meta name="Microsoft.Help.ContentType" content="Reference" />
    <meta name="BrandingAware" content="'true'" />
    <meta name="container" content="Accord.Statistics.Analysis" />
    <meta name="file" content="T_Accord_Statistics_Analysis_StepwiseLogisticRegressionAnalysis" />
    <meta name="guid" content="T_Accord_Statistics_Analysis_StepwiseLogisticRegressionAnalysis" />
    
    <link type="text/css" rel="stylesheet" href="ms-help://Hx/HxRuntime/HxLink.css" />
    <link type="text/css" rel="stylesheet" href="./../styles/highlight.css" />
    <script type="text/javascript" src="../scripts/highlight.js">
      <!---->
    </script>
    <meta name="SelfBranded" content="true" />
  </head>
  <body onload="onLoad()" class="primary-mtps-offline-document">
    <div class="OH_outerDiv">
      <div class="OH_outerContent">
        <table class="TitleTable">
          <tr>
            <td class="OH_tdLogoColumn">
              <img alt="Accord.NET (logo)" src="./../icons/logo.png" />
            </td>
            <td class="OH_tdTitleColumn">StepwiseLogisticRegressionAnalysis Class</td>
            <td class="OH_tdRunningTitleColumn">Accord.NET Framework</td>
          </tr>
        </table>
        <div id="mainSection">
          <div id="mainBody">
            <span class="introStyle">
              <img src="./../icons/online_icon.gif" class="OH_offlineIcon" alt="Online" title="Online" />
              <a href="http://accord-net.github.io/docs/Index.html" target="_top">Show table of contents (goes to the online documentation index).</a>
              <br />
            </span>
            <div class="summary">
              Backward Stepwise Logistic Regression Analysis.
            </div>
            <div class="OH_CollapsibleAreaRegion">
              <div class="OH_regiontitle">Inheritance Hierarchy</div>
              <div class="OH_CollapsibleArea_HrDiv">
                <hr class="OH_CollapsibleArea_Hr" />
              </div>
            </div>
            <div class="OH_clear"></div>
            <img src="./../icons/online_icon.gif" class="OH_offlineIcon" alt="Online" title="Online" />
            <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">System<span id="ID0EBEOAAAAA"> </span><script type="text/javascript">
					addToLanSpecTextIdSet("ID0EBEOAAAAA?vb=.|cpp=::|cs=.|fs=.|nu=.");
				</script>Object</a>
            <br />  <span class="selflink">Accord.Statistics.Analysis<span id="ID0EBBOAAAAA"> </span><script type="text/javascript">
					addToLanSpecTextIdSet("ID0EBBOAAAAA?vb=.|cpp=::|cs=.|fs=.|nu=.");
				</script>StepwiseLogisticRegressionAnalysis</span><br /><p></p><b>Namespace:</b> <a href="N_Accord_Statistics_Analysis.htm" target="">Accord.Statistics.Analysis</a><br /><b>Assembly:</b> <span sdata="assembly">Accord.Statistics</span> (in Accord.Statistics.dll) Version: 2.10.0.0 (2.10.0.4629)<div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Syntax</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"></div><div id="snippetGroup_Syntax" class="code"><div id="ID0EAAEAAAAA" class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs" id="ID0EAAEAAAAA_tabs"><div class="OH_CodeSnippetContainerTabLeftActive" id="ID0EAAEAAAAA_tabimgleft"></div><div id="ID0EAAEAAAAA_tab1" class="OH_CodeSnippetContainerTabActive" EnableCopyCode="true"><a href="#" onclick="javascript:ChangeTab('ID0EAAEAAAAA','C#','1','4');return false;">C#</a></div><div id="ID0EAAEAAAAA_tab2" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="true" disabled="true"><a>VB</a></div><div id="ID0EAAEAAAAA_tab3" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="true" disabled="true"><a>C++</a></div><div id="ID0EAAEAAAAA_tab4" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="true" disabled="true"><a>F#</a></div><div class="OH_CodeSnippetContainerTabRight" id="ID0EAAEAAAAA_tabimgright"></div></div><div id="ID0EAAEAAAAA_codecollection" class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID0EAAEAAAAA_ViewColorized" href="#" onclick="javascript:ExchangeTitleContent('ID0EAAEAAAAA','4')" title="View Colorized" style="display: none">View Colorized</a><a id="ID0EAAEAAAAA_copycode" href="#" onclick="javascript:CopyToClipboard('ID0EAAEAAAAA','4')" title="Copy to Clipboard">Copy to Clipboard</a><a id="ID0EAAEAAAAA_PrintText" class="OH_PrintText" href="#" onclick="javascript:Print('ID0EAAEAAAAA','4')" title="Print">Print</a></div></div><div id="ID0EAAEAAAAA_code_Div1" class="OH_CodeSnippetContainerCode" style="display: block"><pre>[<span class="identifier">SerializableAttribute</span>]
<span class="keyword">public</span> <span class="keyword">class</span> <span class="identifier">StepwiseLogisticRegressionAnalysis</span> : <span class="identifier">IRegressionAnalysis</span>, 
	<span class="identifier">IMultivariateAnalysis</span>, <span class="identifier">IAnalysis</span></pre></div><div id="ID0EAAEAAAAA_code_Plain_Div1" class="OH_CodeSnippetContainerCode" style="display: none"><pre>[SerializableAttribute]
public class StepwiseLogisticRegressionAnalysis : IRegressionAnalysis, 
	IMultivariateAnalysis, IAnalysis</pre></div><div id="ID0EAAEAAAAA_code_Div2" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID0EAAEAAAAA_code_Plain_Div2" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID0EAAEAAAAA_code_Div3" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID0EAAEAAAAA_code_Plain_Div3" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID0EAAEAAAAA_code_Div4" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID0EAAEAAAAA_code_Plain_Div4" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div></div></div><script>addSpecificTextLanguageTagSet('ID0EAAEAAAAA');</script></div><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Remarks</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"></div><p>
              The Backward Stepwise regression is an exploratory analysis procedure,
              where the analysis begins with a full (saturated) model and at each step
              variables are eliminated from the model in a iterative fashion.</p><p>
              Significance tests are performed after each removal to track which of
              the variables can be discarded safely without implying in degradation.
              When no more variables can be removed from the model without causing
              a significative loss in the model likelihood, the method can stop.</p><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Examples</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"></div><div id="ID0EACAAAAA" class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs" id="ID0EACAAAAA_tabs"></div><div id="ID0EACAAAAA_codecollection" class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID0EACAAAAA_ViewColorized" href="#" onclick="javascript:ExchangeTitleContent('ID0EACAAAAA','4')" title="View Colorized" style="display: none">View Colorized</a><a id="ID0EACAAAAA_copycode" href="#" onclick="javascript:CopyToClipboard('ID0EACAAAAA','4')" title="Copy to Clipboard">Copy to Clipboard</a><a id="ID0EACAAAAA_PrintText" class="OH_PrintText" href="#" onclick="javascript:Print('ID0EACAAAAA','4')" title="Print">Print</a></div></div><div id="ID0EACAAAAA_code_Div1" class="OH_CodeSnippetContainerCode" style="display: block"><pre><span class="highlight-comment">// Suppose we have the following data about some patients.</span> 
<span class="highlight-comment">// The first variable is continuous and represent patient</span> 
<span class="highlight-comment">// age. The second variable is dicotomic and give whether</span> 
<span class="highlight-comment">// they smoke or not (this is completely fictional data).</span> 

<span class="highlight-keyword">double</span>[][] inputs =
{
    <span class="highlight-comment">//            Age  Smoking</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">55</span>,    <span class="highlight-number">0</span>   },  <span class="highlight-comment">// 1</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">28</span>,    <span class="highlight-number">0</span>   },  <span class="highlight-comment">// 2</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">65</span>,    <span class="highlight-number">1</span>   },  <span class="highlight-comment">// 3</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">46</span>,    <span class="highlight-number">0</span>   },  <span class="highlight-comment">// 4</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">86</span>,    <span class="highlight-number">1</span>   },  <span class="highlight-comment">// 5</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">56</span>,    <span class="highlight-number">1</span>   },  <span class="highlight-comment">// 6</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">85</span>,    <span class="highlight-number">0</span>   },  <span class="highlight-comment">// 7</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">33</span>,    <span class="highlight-number">0</span>   },  <span class="highlight-comment">// 8</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">21</span>,    <span class="highlight-number">1</span>   },  <span class="highlight-comment">// 9</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">42</span>,    <span class="highlight-number">1</span>   },  <span class="highlight-comment">// 10</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">33</span>,    <span class="highlight-number">0</span>   },  <span class="highlight-comment">// 11</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">20</span>,    <span class="highlight-number">1</span>   },  <span class="highlight-comment">// 12</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">43</span>,    <span class="highlight-number">1</span>   },  <span class="highlight-comment">// 13</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">31</span>,    <span class="highlight-number">1</span>   },  <span class="highlight-comment">// 14</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">22</span>,    <span class="highlight-number">1</span>   },  <span class="highlight-comment">// 15</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">43</span>,    <span class="highlight-number">1</span>   },  <span class="highlight-comment">// 16</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">46</span>,    <span class="highlight-number">0</span>   },  <span class="highlight-comment">// 17</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">86</span>,    <span class="highlight-number">1</span>   },  <span class="highlight-comment">// 18</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">56</span>,    <span class="highlight-number">1</span>   },  <span class="highlight-comment">// 19</span> 
    <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">55</span>,    <span class="highlight-number">0</span>   },  <span class="highlight-comment">// 20</span>
};

<span class="highlight-comment">// Additionally, we also have information about whether</span> 
<span class="highlight-comment">// or not they those patients had lung cancer. The array</span> 
<span class="highlight-comment">// below gives 0 for those who did not, and 1 for those</span> 
<span class="highlight-comment">// who did.</span> 

<span class="highlight-keyword">double</span>[] output =
{
    <span class="highlight-number">0</span>, <span class="highlight-number">0</span>, <span class="highlight-number">0</span>, <span class="highlight-number">1</span>, <span class="highlight-number">1</span>, <span class="highlight-number">1</span>, <span class="highlight-number">0</span>, <span class="highlight-number">0</span>, <span class="highlight-number">0</span>, <span class="highlight-number">1</span>,
    <span class="highlight-number">0</span>, <span class="highlight-number">1</span>, <span class="highlight-number">1</span>, <span class="highlight-number">1</span>, <span class="highlight-number">1</span>, <span class="highlight-number">1</span>, <span class="highlight-number">0</span>, <span class="highlight-number">1</span>, <span class="highlight-number">1</span>, <span class="highlight-number">0</span>
};


<span class="highlight-comment">// Create a Stepwise Logistic Regression analysis</span> 
<span class="highlight-keyword">var</span> regression = <span class="highlight-keyword">new</span> StepwiseLogisticRegressionAnalysis(inputs, output,
    <span class="highlight-keyword">new</span>[] { <span class="highlight-literal">"Age"</span>, <span class="highlight-literal">"Smoking"</span> }, <span class="highlight-literal">"Cancer"</span>);

regression.Compute(); <span class="highlight-comment">// compute the analysis.</span> 

<span class="highlight-comment">// The full model will be stored in the complete property:</span>
StepwiseLogisticRegressionModel full = regression.Complete;

<span class="highlight-comment">// The best model will be stored in the current property:</span>
StepwiseLogisticRegressionModel best = regression.Current;

<span class="highlight-comment">// Let's check the full model results</span>
DataGridBox.Show(full.Coefficients); 

<span class="highlight-comment">// We can see only the Smoking variable is statistically significant.</span> 
<span class="highlight-comment">// This is an indication the Age variable could be discarded from</span> 
<span class="highlight-comment">// the model.</span> 

<span class="highlight-comment">// And check the best inner model result</span>
DataGridBox.Show(best.Coefficients);

<span class="highlight-comment">// This is the best nested model found. This model only has the </span> 
<span class="highlight-comment">// Smoking variable, which is still significant. Since no other</span> 
<span class="highlight-comment">// variables can be dropped, this is the best final model.</span> 

<span class="highlight-comment">// The variables used in the current best model are</span> 
<span class="highlight-keyword">string</span>[] inputVariableNames = best.Inputs; <span class="highlight-comment">// Smoking</span> 

<span class="highlight-comment">// The best model likelihood ratio p-value is</span>
ChiSquareTest test = best.ChiSquare; <span class="highlight-comment">// {0.816990081334823}</span> 

<span class="highlight-comment">// so the model is distinguishable from a null model. We can also</span> 
<span class="highlight-comment">// query the other nested models by checking the Nested property:</span>

DataGridBox.Show(regression.Nested);

<span class="highlight-comment">// Finally, we can also use the analysis to classify a new patient</span> 
<span class="highlight-keyword">double</span> y = regression.Current.Regression.Compute(<span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[] { <span class="highlight-number">1</span> });

<span class="highlight-comment">// For a smoking person, the answer probability is approximately 83%.</span></pre></div><div id="ID0EACAAAAA_code_Plain_Div1" class="OH_CodeSnippetContainerCode" style="display: none"><pre>// Suppose we have the following data about some patients. 
// The first variable is continuous and represent patient 
// age. The second variable is dicotomic and give whether 
// they smoke or not (this is completely fictional data). 

double[][] inputs =
{
    //            Age  Smoking 
    new double[] { 55,    0   },  // 1 
    new double[] { 28,    0   },  // 2 
    new double[] { 65,    1   },  // 3 
    new double[] { 46,    0   },  // 4 
    new double[] { 86,    1   },  // 5 
    new double[] { 56,    1   },  // 6 
    new double[] { 85,    0   },  // 7 
    new double[] { 33,    0   },  // 8 
    new double[] { 21,    1   },  // 9 
    new double[] { 42,    1   },  // 10 
    new double[] { 33,    0   },  // 11 
    new double[] { 20,    1   },  // 12 
    new double[] { 43,    1   },  // 13 
    new double[] { 31,    1   },  // 14 
    new double[] { 22,    1   },  // 15 
    new double[] { 43,    1   },  // 16 
    new double[] { 46,    0   },  // 17 
    new double[] { 86,    1   },  // 18 
    new double[] { 56,    1   },  // 19 
    new double[] { 55,    0   },  // 20
};

// Additionally, we also have information about whether 
// or not they those patients had lung cancer. The array 
// below gives 0 for those who did not, and 1 for those 
// who did. 

double[] output =
{
    0, 0, 0, 1, 1, 1, 0, 0, 0, 1,
    0, 1, 1, 1, 1, 1, 0, 1, 1, 0
};


// Create a Stepwise Logistic Regression analysis 
var regression = new StepwiseLogisticRegressionAnalysis(inputs, output,
    new[] { "Age", "Smoking" }, "Cancer");

regression.Compute(); // compute the analysis. 

// The full model will be stored in the complete property:
StepwiseLogisticRegressionModel full = regression.Complete;

// The best model will be stored in the current property:
StepwiseLogisticRegressionModel best = regression.Current;

// Let's check the full model results
DataGridBox.Show(full.Coefficients); 

// We can see only the Smoking variable is statistically significant. 
// This is an indication the Age variable could be discarded from 
// the model. 

// And check the best inner model result
DataGridBox.Show(best.Coefficients);

// This is the best nested model found. This model only has the  
// Smoking variable, which is still significant. Since no other 
// variables can be dropped, this is the best final model. 

// The variables used in the current best model are 
string[] inputVariableNames = best.Inputs; // Smoking 

// The best model likelihood ratio p-value is
ChiSquareTest test = best.ChiSquare; // {0.816990081334823} 

// so the model is distinguishable from a null model. We can also 
// query the other nested models by checking the Nested property:

DataGridBox.Show(regression.Nested);

// Finally, we can also use the analysis to classify a new patient 
double y = regression.Current.Regression.Compute(new double[] { 1 });

// For a smoking person, the answer probability is approximately 83%.</pre></div></div></div><script>addSpecificTextLanguageTagSet('ID0EACAAAAA');</script><a name="seeAlsoSection"><!----></a><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">See Also</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"></div><div class="seeAlsoStyle"><a href="AllMembers_T_Accord_Statistics_Analysis_StepwiseLogisticRegressionAnalysis.htm" target="">StepwiseLogisticRegressionAnalysis Members</a></div><div class="seeAlsoStyle"><a href="N_Accord_Statistics_Analysis.htm" target="">Accord.Statistics.Analysis Namespace</a></div><div class="seeAlsoStyle"><a href="T_Accord_Statistics_Analysis_LogisticRegressionAnalysis.htm" target="">Accord.Statistics.Analysis<span id="ID0EBAAAAAAAA"> </span><script type="text/javascript">
					addToLanSpecTextIdSet("ID0EBAAAAAAAA?vb=.|cpp=::|cs=.|fs=.|nu=.");
				</script>LogisticRegressionAnalysis</a></div></div>
        </div>
      </div>
    </div>
    <div id="OH_footer" class="OH_footer">
      <p>
        <a href="http://accord-net.github.io/" target="_blank">Accord.NET Framework</a> © 2009-2013. All documentation is licensed under the Creative Commons Attribution/Share-Alike License.</p>
      <div class="OH_feedbacklink">
        <a href="mailto:?subject=Accord.NET+Framework+StepwiseLogisticRegressionAnalysis+Class+100+EN-US&amp;body=Your%20feedback%20is%20used%20to%20improve%20the%20documentation%20and%20the%20product.%20Your%20e-mail%20address%20will%20not%20be%20used%20for%20any%20other%20purpose%20and%20is%20disposed%20of%20after%20the%20issue%20you%20report%20is%20resolved.%20While%20working%20to%20resolve%20the%20issue%20that%20you%20report%2c%20you%20may%20be%20contacted%20via%20e-mail%20to%20get%20further%20details%20or%20clarification%20on%20the%20feedback%20you%20sent.%20After%20the%20issue%20you%20report%20has%20been%20addressed%2c%20you%20may%20receive%20an%20e-mail%20to%20let%20you%20know%20that%20your%20feedback%20has%20been%20addressed.">Send Feedback</a> on this topic.</div>
    </div>
  </body>
</html>